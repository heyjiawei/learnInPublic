Domain Name Server (DNS)

- Every host is identified by an IP address
- IP addresses are not static
- A server (called the DNS) stores the domain name and the mapped IP adrress. Hence the DNS is used to convert the domain name of the website to their numerical IP address

How DNS works:
- When a user tries to access a web address like “example.com”, their web browser or application performs a **DNS Query against a DNS server** by supplying the hostname
- The DNS server takes the hostname and resolves it into a numeric IP address, which the web browser can connect to.
- A component called a DNS Resolver is responsible for checking if the hostname is available in local cache,
- if not, it contacts a series of DNS Name Servers, until eventually it receives the IP of the service the user is trying to reach, and returns it to the browser or application.

- The client machine sends a request to the local name server first. If local name server does not find the IP address in its database, it sends a request to the root name server
- The root name server will route the DNS query to an intermediate or authoritative name server
- The IP address us then returned to the local name server (and cached there) which then returns the IP address to the host

Explain what happens in the series of DNS Name Servers:
There are 2 ways this DNS resolution can be completed. The first way is the recursive resolution:
1. The client first checks whether the local server contains the requested IP mapping. If it does not, a DNS Query is generated by the application program to the DNS resolver to fetch the destination IP address
2. The query is first forwarded local DNS Server
3. If it does not know the IP Address, it sends the query to the root name server
4. The root name server contains information of about at least one server of Top Level Domain. The query is then sent to the respective Top-Level Domain server. 
5. If it contains the mapping, the response is sent back to the root server and then to host’s local server. If it doesn’t contain the mapping, it should contain the IP Address of destination’s local DNS Server.

Iterative resolution:
1. A DNS Query is generated by the application program to the resolver to fetch the destination IP Address. 
2. The Query is then forward to the local DNS Server.
3. Assuming, it does not know the IP Address, it sends the query to the root name server.
4. The root name server returns the IP Address of the Top-Level Domain Server to the Local Server.
5. The Top-Level Domain server is contacted by Local Server and it returns either the IP of the destination host or its local DNS Server.

How is iterative resolution different from recursive resolution?
The main difference between iterative and recursive resolution is that, in iterative, each server does not know the mapping sent to the one requested it. Here, client allows the server to return the best answer it can give as a match or as a referral. 

What is the issue with both resolution?
- after a server asks a mapping request from another server, it receives the response and it stores this information in the Cache memory before sending it to the client.
- This can cause a problem when the server caches the mapping for a long time and the mapping gets outdated.
	- However, there are techniques to resolve this. e.g. TTL (Time To Live)

Name Server
- a server that implements the DNS resolver/ resolution mechanism
- The host request the DNS name server to resolve the domain name. And the name server returns the IP address corresponding to that domain name to the host so that the host can future connect to that IP address.

Host -> request to resolve cse.dtu.in -> name server
name server -> IP 134.60.23.23 -> host

DNS Resolver
A DNS resolver (recursive resolver), is designed to receive DNS queries, which include a human-readable hostname such as “www.example.com”, and is responsible for tracking the IP address for that hostname.

DNS Root Server or Root Name Server
- is a name server for the root zone of the DNS of the internet
- This means that it directly answers requests for records in the root zone
- It answers requests by returning a list of authoritative name servers for the appropriate top-level domain(TLD)
- These root name servers are critical! They are the first step in translating human host names into IP addresses that are used in communication between internet hosts.

root zone
- The DNS root zone is the top-level DNS zone in the hierarchical namespace of the Domain Name System (DNS) of the Internet.
- ICANN is in charge of maintaining this

DNS zone
- In a DNS root domain, there can be a hierarchical layout of subdomains under it. (The DNS root domain is like a tree afterall)
- The individual domains of this tree may server as delegation points for administrative, authority and management.
- It is desirable to implement fine-grained boundaries of delegation such that multiple sub-levels of a domain may be managed independently.
- Therefore, the domain name space is partitioned into areas, or zones as they call it, for this purpose. 
- A zone starts at a domain and extends downwards in the tree to the leaf nodes.
- A zone can also start at a domain and extend downwards to the top-level of subdomains where other zones start.
- the term DNS zone becomes essentially synonymous with the term "domain"
- A DNS zone is implemented in the configuration system of a domain name server. Historically, it is defined in the zone file

top-level domain(TLD)
- A top-level domain (TLD) is one of the domains at the highest level in the hierarchical Domain Name System of the Internet.
- The top-level domain names are installed in the root zone of the name space. 
- Responsibility for management of most top-level domains is delegated to specific organizations by the ICANN. 

Authoritative DNS Server
- An authoritative name server is a name server that gives answers in response to questions asked about names in a zone. 
- these are located at higher level servers in the DNS hierarchy
- one of the higher level servers will be defined as the "authoritative" name server for a specific hostname.
- This means it holds up-to-date information for that hostname

DNS record
DNS servers create a DNS record to provide important information about a domain or hostname, particularly its current IP address. The most common DNS record types are:

- Address Mapping record (A Record)—also known as a DNS host record, stores a hostname and its corresponding IPv4 address.
- IP Version 6 Address record (AAAA Record)—stores a hostname and its corresponding IPv6 address.
- Canonical Name record (CNAME Record)—can be used to alias a hostname to another hostname. When a DNS client requests a record that contains a CNAME, which points to another hostname, the DNS resolution process is repeated with the new hostname.
- Mail exchanger record (MX Record)—specifies an SMTP email server for the domain, used to route outgoing emails to an email server.
- Name Server records (NS Record)—specifies that a DNS Zone, such as “example.com” is delegated to a specific Authoritative Name Server, and provides the address of the name server.
- Reverse-lookup Pointer records (PTR Record)—allows a DNS resolver to provide an IP address and receive a hostname (reverse DNS lookup).
- Certificate record (CERT Record)—stores encryption certificates—PKIX, SPKI, PGP, and so on.
- Service Location (SRV Record)—a service location record, like MX but for other communication protocols.
- Text Record (TXT Record)—typically carries machine-readable data such as opportunistic encryption, sender policy framework, DKIM, DMARC, etc.
- Start of Authority (SOA Record)—this record appears at the beginning of a DNS zone file, and indicates the Authoritative Name Server for the current DNS zone, contact details for the domain administrator, domain serial number, and information on how frequently DNS information for this zone should be refreshed.
